<div id="modal_errors" class="alert alert-danger d-none"><ul></ul></div>
<div id="modal_warnings" class="alert alert-warning d-none"><ul></ul></div>

<% if @error_messages.blank? %>
  <div class="row">
    <div class="col-sm-6">
      <p>Your meme trading card has been created!</p>
      <p>To complete the process and have the Non-Fungible Token minted, you must provide gas to the mint.</p>
      <%= image_tag meme_image_url(@item), alt: "NOOOOOOO", class: "image meme_card" %>
    </div>

    <div class="col-sm-4">
      <p>HogeMint uses CoinGate to transfer ETH and pay for the gas to create your NFT, click the link below to get your unique coingate link.</p>
      <p class="lead">Checkout Details</p>
      <div class="table-responsive">
      <table class="table table-dark">
        <tbody>
          <tr>
            <td>Current Gas Price</td>
            <td><%= gas_price %> gwei</td>
          </tr>
          <tr>
            <td>Estimated Mint Gas</td>
            <td>250,000</td>
          </tr>
          <tr>
            <td>Transfer Fee</td>
            <td>21,000</td>
          </tr>
          <tr class="table-secondary">
            <td>ETH Cost</td>
            <td><%= (gas_price * (250000 + 21000) * 1e-9).truncate(6) %></td>
          </tr>

        </tbody>
      </table>
      </div>
      <a href="<%= coingate_url %>">Click here to complete your payment on CoinGate</a>
    </div>
  </div>
<% end %>

<script>
  <% if @error_messages.present? %>
    $("#modal_errors").removeClass("d-none");
    <% @error_messages.each do |msg| %>
      $("#modal_errors ul").append("<li> <%= msg %> </li>");
    <% end %>
  <% end %>
</script>
